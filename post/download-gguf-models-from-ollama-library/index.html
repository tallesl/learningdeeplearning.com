<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Notes on learning deep learning and everything LLM-related">
    <title>Download .gguf Models From Ollama Library | Learning Deep Learning</title>
    <link rel="icon" href="/favicon.png" type="image/png">
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    <style>
  body {
    background-image: radial-gradient(#8e8 1.2px, #eee 1.2px);
    background-size: 12px 12px;
  }

  main img {
    display: block;
    margin: 0 auto;
  }
</style>

  </head>

  <header style="text-align: center;">
    
      <a href="https://learningdeeplearning.com/">
        <img src="https://learningdeeplearning.com/images/logo.png" alt="Logo" style="max-width: 200px; height: auto; margin: 0 auto; display: block;">
      </a>
    
  </header>

  <body>
    <nav>
    <ul class="menu">
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">Download .gguf Models From Ollama Library</span></h1>

<p class="date">Jul 26, 2024</p>
</div>

<main>
<p>GGUF is the model format required by tools based on <a href="https://github.com/ggerganov/llama.cpp">llama.cpp</a> (such as
<a href="https://github.com/LostRuins/koboldcpp">koboldcpp</a>). But how do we get models in this format?</p>
<p>One way to go is by downloading it directly from <a href="https://huggingface.co/models?library=gguf">Hugging Face</a>, but
unfortunately, there arenâ€™t many .gguf models there; the majority are .safetensors. While we can <a href="https://github.com/ggerganov/llama.cpp/blob/master/convert_hf_to_gguf.py">convert</a>
it, it&rsquo;s more convenient to get it directly in the desired format.</p>
<p>But Hugging Face is not the only repository for open models. We can rely on
<a href="https://ollama.com/library">Ollamaâ€™s library</a> as well. By tinkering with its registry a bit, we can perform a direct
download of a .gguf file (without having Ollama installed).</p>
<h2 id="step-1-get-a-model">Step 1: Get a model</h2>
<p>Go to the Ollama library page and pick the model you want to download. Note down the model name and parameters, as
you&rsquo;ll need them in the next steps:</p>
<p><img src="/images/download-gguf-models-from-ollama-library/library.png" alt=""></p>
<h2 id="step-2-get-the-digest-from-the-manifest">Step 2: Get the digest from the manifest</h2>
<p>Navigate to the following URL, replacing <code>MODEL_NAME</code> and <code>PARAMETERS</code> with the values from Step 1:</p>
<pre tabindex="0"><code>https://registry.ollama.ai/v2/library/MODEL_NAME/manifests/MODEL_PARAMETERS
</code></pre><p>Example:</p>
<pre tabindex="0"><code>https://registry.ollama.ai/v2/library/phi3/manifests/3.8b
</code></pre><p>This URL will return a JSON object. Look for the digest field in the JSON and note down its value, as you&rsquo;ll need it in
the next step:</p>
<p><img src="/images/download-gguf-models-from-ollama-library/digest.png" alt=""></p>
<h2 id="step-3-download-the-gguf-file">Step 3: Download the .gguf file</h2>
<p>With the digest value from Step 2, replace <code>DIGEST</code> in the following URL and navigate to it:</p>
<pre tabindex="0"><code>https://registry.ollama.ai/v2/library/MODEL_NAME/blobs/sha256:DIGEST
</code></pre><p>Example:</p>
<pre tabindex="0"><code>https://registry.ollama.ai/v2/library/phi3/blobs/sha256:3e38718d00bb0007ab7c0cb4a038e7718c07b54f486a7810efd03bb4e894592a
</code></pre><p>This URL should initiate the download of a file named &ldquo;data&rdquo;. This file is your .gguf model file, rename it as you
please and have fun!</p>

</main>

    <hr>
    <footer>
      <p>
        <a href="mailto:talleslasmar@gmail.com">ðŸ“§</a>
        | 
        <a href="https://github.com/tallesl"><img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" style="height: 25px; vertical-align: middle;"></a>
        |
        <a href="https://creativecommons.org/publicdomain/zero/1.0/"><img src="https://licensebuttons.net/p/zero/1.0/88x31.png" alt="CC0" style="height: 20px; vertical-align: middle;"></a>
      </p>
    </footer>
  </body>
</html>

